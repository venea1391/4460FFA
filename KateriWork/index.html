<!DOCTYPE html>
<html>
  <head>
    <title>Hierarchical Bar Chart</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.js"></script>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.4.2"></script>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.layout.js?2.4.2"></script>
    <script type="text/javascript" src="bar_chart_common_functions.js"></script>
    <script type="text/javascript" src="info_pane.js"></script>
    <script type="text/javascript" src="rating_bar_chart.js"></script>
    <script type="text/javascript" src="votes_bar_chart.js"></script>
    <style type="text/css">

text {
  font: 10px sans-serif;
}

rect.background {
  fill: white;
}

.axis {
  shape-rendering: crispEdges;
}

.axis path, .axis line {
  fill: none;
  stroke: #000;
}

    </style>
  </head>
  <body>
    <div id="info_pane" style="width: 300px; height: 700px; overflow-y: auto; border: 1px solid; padding: 5px; margin-right: 10px; float: left;">
     <h1>Star Trek</h1>
  
  <table>
  <tr><td><strong>Series</strong></td><td><p id="series"></p></td></tr>	
  <tr><td><strong>Season</strong></td><td><p id="season"></p></td></tr>
  <tr><td><strong>Episode</strong></td><td><p id="episode"></p></td></tr>
  <tr><td><strong>Title</strong></td><td><p id="title"></p></td></tr>
  <tr><td><strong>IMDB</strong></td><td><p id="url"></p></td></tr>
  <tr><td><strong>Rating</strong></td><td><p id="user_rating"></p></td></tr>
  <tr><td><strong>Number of Votes</strong></td><td><p id="user_votes"></p></td></tr>
  <tr><td><strong>Air Date</strong></td><td><p id="date"></p></td></tr>
  <tr><td><strong>Stardate</strong></td><td><p id="stardate"></p></td></tr>
  <tr><td><strong>Director</strong></td><td><p id="director"></p></td></tr>
  <tr><td><strong>Writer</strong></td><td><p id="writer"></p></td></tr>
  <tr><td><strong>Featured Characters</strong></td><td><p id="feat_characters"></p></td></tr>
  <tr><td><strong>Main Cast</strong></td><td><p id="main_cast"></p></td></tr>
  <tr><td><strong>Recurring Cast</strong></td><td><p id="recurring_cast"></p></td></tr>
  </table>
  </div>
  <div id="barchart_outer_div" style="width: 700px; height: 500px; overflow: auto; float: left">
  	<h4 id="bar_chart_title">Star Trek - <span id="series_from_title"></span> - <span id="season_from_title"></span></h4>
  	<label><input type="radio" name="mode" id="RB_rating" value="stacked" onclick="changeMode()" checked>Rating</label>
<label><input type="radio" name="mode" id="RB_votes" value="grouped" onclick="changeMode()">Number of Votes</label>
<div id="barchart" style="width: 700px;">
</div>
</div>
  
  </div>
  

<script>
	transitionRatingBarChart('','');
	
	function changeMode(){
		var series = $('#series_from_title').text();
		var season = $('#season_from_title').text();
		if (document.getElementById('RB_votes').checked) transitionVotesBarChart(series, season);
  			else transitionRatingBarChart(series, season);
	}
	
</script>

  </body>
</html>